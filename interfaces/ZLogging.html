<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>ZLogging | Hatsy request logger</title><meta name="description" content="Documentation for Hatsy request logger"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Hatsy request logger</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Hatsy request logger</a></li><li><a href="ZLogging.html">ZLogging</a></li></ul><h1>Interface ZLogging&lt;TInput&gt;</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Request logging capability via <a href="https://www.npmjs.com/package/@run-z/log-z">@run-z/log-z</a>.</p>
</div><div><p>Provides request logger means containing <code>ZLogger</code> instance for handlers.</p>
<p>The log messages are actually written to the log under certain conditions. E.g. when request processing error
occurred, error logged, or immediate logging triggered explicitly. Once immediate logging triggered, all log
messages for the log are recorded to the log, as well as all messages logged after that.</p>
<p>To trigger immediate logging add <code>immediate</code> property with truthy value to log message details like this:</p>
<pre><code class="language-typescript"><span class="hl-0">context</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">.</span><span class="hl-2">info</span><span class="hl-1">(</span><span class="hl-3">&#39;Immediate message&#39;</span><span class="hl-1">, </span><span class="hl-2">zlogDetails</span><span class="hl-1">({ </span><span class="hl-0">immediate:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1"> }));</span>
</code></pre>
</div></div></section><section class="tsd-panel tsd-type-parameters"><h3>Type parameters</h3><ul class="tsd-type-parameters"><li><h4>TInput = <span class="tsd-signature-type">unknown</span></h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>A type of request processing means required in order to apply this capability.</p>
</div></div></li></ul></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="tsd-signature-type">RequestCapability</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TInput</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">LoggerMeans</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ZLogger</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><ul class="tsd-hierarchy"><li><span class="target">ZLogging</span></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><a href="ZLogging.html#and" class="tsd-kind-icon">and</a></li><li class="tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><a href="ZLogging.html#for" class="tsd-kind-icon">for</a></li><li class="tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter"><a href="ZLogging.html#with" class="tsd-kind-icon">with</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><a name="and" class="tsd-anchor"></a><h3>and</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">and&lt;TNext&gt;<span class="tsd-signature-symbol">(</span>next<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">RequestCapability</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TInput</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-type">LoggerMeans</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ZLogger</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNext</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">RequestCapability</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TInput</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">LoggerMeans</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ZLogger</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNext</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from RequestCapability.and</p><ul><li>Defined in hatsy/core/index.d.ts:276</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Combines this capability with the <code>next</code> one.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p>RequestCapability.combine</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TNext</h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>A type of extension to request processing means applied by <code>next</code> capability.</p>
</div></div></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>next: <span class="tsd-signature-type">RequestCapability</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TInput</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-type">LoggerMeans</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ZLogger</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNext</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Next capability that receives requests modified by this capability.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">RequestCapability</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TInput</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">LoggerMeans</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ZLogger</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNext</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>New request processing capability that applies modifications to request by this capability first,
and then - by the <code>next</code> one.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><a name="for" class="tsd-anchor"></a><h3><span class="tsd-flag ts-flagAbstract">Abstract</span> for</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><li class="tsd-signature tsd-kind-icon">for&lt;TMeans&gt;<span class="tsd-signature-symbol">(</span>handler<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">RequestHandler</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TMeans</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-type">LoggerMeans</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ZLogger</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">RequestHandler</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TMeans</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><p>Inherited from RequestCapability.for</p><ul><li>Defined in hatsy/core/index.d.ts:264</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Provides request processing capability to the given handler.</p>
</div><div><p>Builds request processing handler that modifies request and delegates to target <code>handler</code>.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TMeans</h4><div class="tsd-comment tsd-typography"><div class="lead">
<p>A type of request processing means expected by constructed handler.</p>
</div></div></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>handler: <span class="tsd-signature-type">RequestHandler</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TMeans</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-type">LoggerMeans</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ZLogger</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Request processing handler that will receive modified request context.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">RequestHandler</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TMeans</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>New request processing handler.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter"><a name="with" class="tsd-anchor"></a><h3>with</h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">with&lt;TNewInput&gt;<span class="tsd-signature-symbol">(</span>config<span class="tsd-signature-symbol">?: </span><a href="RequestZLogConfig.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestZLogConfig</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNewInput</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../modules.html#ZLogging" class="tsd-signature-type" data-tsd-kind="Variable">ZLogging</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNewInput</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hatsyjs/log-z-request/blob/d425bab/src/logging.ts#L86">log-z-request/src/logging.ts:86</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Configures request logging.</p>
</div></div><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><h4>TNewInput</h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> config: <a href="RequestZLogConfig.html" class="tsd-signature-type" data-tsd-kind="Interface">RequestZLogConfig</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNewInput</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>New request logging configuration.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../modules.html#ZLogging" class="tsd-signature-type" data-tsd-kind="Variable">ZLogging</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">TNewInput</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>A logging capability with the given configuration applied.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface tsd-has-type-parameter"><a href="ZLogging.html" class="tsd-kind-icon">ZLogging</a><ul><li class="tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><a href="ZLogging.html#and" class="tsd-kind-icon">and</a></li><li class="tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter tsd-is-inherited"><a href="ZLogging.html#for" class="tsd-kind-icon">for</a></li><li class="tsd-kind-method tsd-parent-kind-interface tsd-has-type-parameter"><a href="ZLogging.html#with" class="tsd-kind-icon">with</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>